var J=Object.defineProperty,w=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var f=(e,o,t)=>o in e?J(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,_=(e,o)=>{for(var t in o||(o={}))F.call(o,t)&&f(e,t,o[t]);if(p)for(var t of p(o))k.call(o,t)&&f(e,t,o[t]);return e},m=(e,o)=>w(e,x(o));import{C as g,M as A}from"./index.df6ce948.js";import{a as B,w as D,fz as M,be as $,aw as N,k as R,ay as v,o as O,h as P,i as C,n as c,z as E,B as y,E as S}from"./index.0994ffcf.js";import"./useWindowSizeFn.c35b04b1.js";const V=B({name:"PreviewCode",components:{CodeEditor:g},props:{fileFormat:{type:String,default:"json"},editorJson:{type:String,default:""}},setup(e){const o=D({visible:!1}),t=(s,b=`file.${e.fileFormat}`)=>{let l="data:text/csv;charset=utf-8,";l+=s;const h=encodeURI(l),r=document.createElement("a");r.setAttribute("href",h),r.setAttribute("download",b),r.click()},d=()=>{t(e.editorJson)},{clipboardRef:i,copiedRef:u}=M(),{createMessage:a}=S(),n=()=>{const s=e.editorJson;if(!s){a.warning("\u4EE3\u7801\u4E3A\u7A7A\uFF01");return}i.value=s,R(u)&&a.warning("\u590D\u5236\u6210\u529F\uFF01")};return m(_({},$(o)),{exportData:t,handleCopyJson:n,handleExportJson:d,MODE:A})}}),j={class:"v-json-box"},z={class:"copy-btn-box"};function I(e,o,t,d,i,u){const a=v("CodeEditor"),n=v("a-button");return O(),P("div",null,[C("div",j,[c(a,{value:e.editorJson,ref:"myEditor",mode:e.MODE.JSON},null,8,["value","mode"])]),C("div",z,[c(n,{onClick:e.handleCopyJson,type:"primary",class:"copy-btn","data-clipboard-action":"copy","data-clipboard-text":e.editorJson},{default:E(()=>[y(" \u590D\u5236\u6570\u636E ")]),_:1},8,["onClick","data-clipboard-text"]),c(n,{onClick:e.handleExportJson,type:"primary"},{default:E(()=>[y("\u5BFC\u51FA\u4EE3\u7801")]),_:1},8,["onClick"])])])}var H=N(V,[["render",I],["__scopeId","data-v-c7ac4cc2"]]);export{H as default};
